/* Color Blind Mode Filters */
[data-colorblind-mode="protanopia"] {
  filter: contrast(1.2) brightness(1.1);
}

[data-colorblind-mode="protanopia"] .bg-gradient-to-br,
[data-colorblind-mode="protanopia"] .bg-gradient-to-r {
  /* Adjust red-based gradients for protanopia */
  filter: hue-rotate(20deg) saturate(1.3);
}

[data-colorblind-mode="deuteranopia"] {
  filter: contrast(1.15) saturate(1.2);
}

[data-colorblind-mode="deuteranopia"] .from-red-500,
[data-colorblind-mode="deuteranopia"] .from-green-500,
[data-colorblind-mode="deuteranopia"] .to-red-600,
[data-colorblind-mode="deuteranopia"] .to-green-600 {
  filter: hue-rotate(30deg) saturate(1.5) !important;
}

[data-colorblind-mode="tritanopia"] {
  filter: contrast(1.2) brightness(1.05);
}

[data-colorblind-mode="tritanopia"] .from-blue-500,
[data-colorblind-mode="tritanopia"] .to-blue-600 {
  filter: hue-rotate(-30deg) saturate(1.4) !important;
}

[data-colorblind-mode="achromatopsia"] {
  filter: grayscale(100%) contrast(1.3);
}

/* Enhanced Color Blind Mode - More visible changes */
[data-theme="colorblind"] {
  --color-primary: #0066cc;
  --color-secondary: #ff8800;
  --color-success: #00aa00;
  --color-danger: #cc0000;
  --color-warning: #ffaa00;
}

[data-theme="colorblind"] .bg-gradient-to-br.from-blue-500 {
  background: linear-gradient(to bottom right, #0066cc, #004499) !important;
}

[data-theme="colorblind"] .bg-gradient-to-br.from-green-500 {
  background: linear-gradient(to bottom right, #00aa00, #007700) !important;
}

[data-theme="colorblind"] .bg-gradient-to-br.from-red-500 {
  background: linear-gradient(to bottom right, #cc0000, #990000) !important;
}

[data-theme="colorblind"] .bg-gradient-to-br.from-purple-500 {
  background: linear-gradient(to bottom right, #8844cc, #6633aa) !important;
}

[data-theme="colorblind"] .bg-gradient-to-br.from-orange-500 {
  background: linear-gradient(to bottom right, #ff8800, #cc6600) !important;
}

[data-theme="colorblind"] .bg-gradient-to-br.from-yellow-500 {
  background: linear-gradient(to bottom right, #ffcc00, #dd9900) !important;
}

/* Add stronger borders and patterns for better differentiation */
[data-theme="colorblind"] button,
[data-theme="colorblind"] .rounded-2xl {
  border: 2px solid rgba(0, 0, 0, 0.1);
}

[data-theme="colorblind"] .shadow-lg {
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.1);
}

/* Dark Mode Base Styles */
.dark {
  color-scheme: dark;
}

.dark body {
  background-color: #0f172a;
  color: #f1f5f9;
}

.dark .bg-white {
  background-color: #1e293b !important;
}

.dark .bg-gray-50 {
  background-color: #0f172a !important;
}

.dark .bg-gray-100 {
  background-color: #1e293b !important;
}

.dark .bg-gray-200 {
  background-color: #334155 !important;
}

.dark .text-gray-900 {
  color: #f1f5f9 !important;
}

.dark .text-gray-700 {
  color: #cbd5e1 !important;
}

.dark .text-gray-600 {
  color: #94a3b8 !important;
}

.dark .text-gray-500 {
  color: #64748b !important;
}

.dark .border-gray-100,
.dark .border-gray-200 {
  border-color: #334155 !important;
}

.dark .shadow-sm,
.dark .shadow-md,
.dark .shadow-lg {
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
}

.dark .hover\:bg-gray-100:hover {
  background-color: #334155 !important;
}

.dark .hover\:bg-gray-200:hover {
  background-color: #475569 !important;
}

.dark input,
.dark textarea,
.dark select {
  background-color: #1e293b !important;
  color: #f1f5f9 !important;
  border-color: #334155 !important;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: #64748b !important;
}

/* Dark mode gradient backgrounds keep their colors */
.dark .bg-gradient-to-br,
.dark .bg-gradient-to-r,
.dark .bg-gradient-to-l {
  /* Gradients maintain their vibrant colors in dark mode */
}

/* High Contrast Mode */
[data-high-contrast="true"] {
  --tw-shadow: 0 0 0 2px rgba(0, 0, 0, 0.8);
}

[data-high-contrast="true"] * {
  border-width: 2px !important;
}

[data-high-contrast="true"] button,
[data-high-contrast="true"] a,
[data-high-contrast="true"] input,
[data-high-contrast="true"] select,
[data-high-contrast="true"] textarea {
  outline: 2px solid currentColor !important;
  outline-offset: 2px !important;
}

[data-high-contrast="true"] .bg-white {
  background-color: #ffffff !important;
}

[data-high-contrast="true"] .text-gray-500,
[data-high-contrast="true"] .text-gray-600 {
  color: #000000 !important;
}

/* Reduce Motion */
[data-reduce-motion="true"] *,
[data-reduce-motion="true"] *::before,
[data-reduce-motion="true"] *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Larger Touch Targets */
[data-larger-touch="true"] button,
[data-larger-touch="true"] a,
[data-larger-touch="true"] input,
[data-larger-touch="true"] select {
  min-height: 48px !important;
  min-width: 48px !important;
  padding: 12px 16px !important;
}

/* Screen Reader Optimizations */
[data-screen-reader="true"] *:focus {
  outline: 3px solid #0066cc !important;
  outline-offset: 2px !important;
}

/* Focus Visible Styles for Keyboard Navigation */
*:focus-visible {
  outline: 3px solid #0066cc;
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible {
  outline: 3px solid #0066cc;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.2);
}

/* Skip to Main Content Link */
.skip-to-main {
  position: absolute;
  left: -9999px;
  z-index: 999;
  padding: 1rem;
  background-color: #000;
  color: #fff;
  text-decoration: none;
  border-radius: 0.5rem;
}

.skip-to-main:focus {
  left: 1rem;
  top: 1rem;
}

/* Screen Reader Only Text */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Better Focus Indicators */
input:focus,
textarea:focus,
select:focus {
  outline: 3px solid #0066cc;
  outline-offset: 2px;
}

/* Color Blind Mode SVG Filters */
svg.accessibility-filters {
  position: absolute;
  width: 0;
  height: 0;
}

/* Accessible Color Palette */
:root {
  --accessible-blue: #0066cc;
  --accessible-green: #008800;
  --accessible-red: #cc0000;
  --accessible-yellow: #ccaa00;
  --accessible-orange: #cc6600;
  --accessible-purple: #6600cc;
}

/* High Contrast Links */
[data-high-contrast="true"] a {
  text-decoration: underline !important;
  color: #0000ff !important;
}

[data-high-contrast="true"] a:visited {
  color: #800080 !important;
}

/* Better Text Contrast */
[data-high-contrast="true"] .text-white {
  color: #ffffff !important;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
}

/* Keyboard Navigation Improvements */
*:focus {
  scroll-margin-block: 8rem;
}

/* Improve button accessibility */
button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

button:disabled:hover {
  transform: none;
}